{"version":3,"sources":["../../src/window.component.ts"],"names":[],"mappings":"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","file":"window.component.js","sourceRoot":"","sourcesContent":["import { Component, ChangeDetectionStrategy, ViewEncapsulation, Input } from \"@angular/core\";\r\n\r\n\r\nexport class WcWindowComponent {\r\n   opened: boolean = false;\r\n\r\n   top: number = 0;\r\n  private lastTop: number = 0;\r\n\r\n   right: number = 0;\r\n  private lastRight: number = 0;\r\n\r\n   bottom: number = 0;\r\n  private lastBottom: number = 0;\r\n\r\n   left: number = 0;\r\n  private lastLeft: number = 0;\r\n\r\n  public startX: number = 0;\r\n  public startY: number = 0;\r\n\r\n  public minimized: boolean = false;\r\n  private lastMinimized: boolean = false;\r\n\r\n  public maximized: boolean = true;\r\n  private lastMaximized: boolean = true;\r\n\r\n  private dragging: boolean = false;\r\n  private resizing: boolean = false;\r\n  private type: string;\r\n\r\n  constructor() { }\r\n\r\n  /**\r\n   * open\r\n   */\r\n  public open() {\r\n    this.opened = true;\r\n  }\r\n\r\n  /**\r\n   * close\r\n   */\r\n  public close() {\r\n    this.opened = false;\r\n  }\r\n\r\n  /**\r\n   * toggle\r\n   */\r\n  public toggle() {\r\n    this.opened = !this.opened;\r\n  }\r\n\r\n  /**\r\n   * minimize\r\n   */\r\n  public minimize(event: MouseEvent) {\r\n    if (this.minimized) {\r\n      this.restore(event);\r\n    } else {\r\n      this.saveCurrentPosition();\r\n\r\n      const width = window.innerWidth\r\n      || document.documentElement.clientWidth\r\n      || document.body.clientWidth;\r\n\r\n      const height = window.innerHeight\r\n      || document.documentElement.clientHeight\r\n      || document.body.clientHeight;\r\n\r\n      this.right = width - this.left - 200;\r\n      this.bottom = height - this.top - 21;\r\n\r\n      this.minimized = true;\r\n      this.maximized = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * restore\r\n   */\r\n  public restore(event: MouseEvent) {\r\n    this.top = this.lastTop;\r\n    this.right = this.lastRight;\r\n    this.bottom = this.lastBottom;\r\n    this.left = this.lastLeft;\r\n\r\n    this.minimized = this.lastMinimized;\r\n    this.maximized = this.lastMaximized;\r\n  }\r\n\r\n  /**\r\n   * maximize\r\n   */\r\n  public maximize(event: MouseEvent) {\r\n    this.saveCurrentPosition();\r\n    this.top = this.right = this.bottom = this.left = 0;\r\n    this.maximized = true;\r\n    this.minimized = false;\r\n  }\r\n\r\n  private saveCurrentPosition() {\r\n    this.lastTop = this.top;\r\n    this.lastRight = this.right;\r\n    this.lastBottom = this.bottom;\r\n    this.lastLeft = this.left;\r\n\r\n    this.lastMinimized = this.minimized;\r\n    this.lastMaximized = this.maximized;\r\n  }\r\n\r\n  /**\r\n   * startDrag\r\n   */\r\n  public startDrag(event: MouseEvent) {\r\n    this.dragging = true;\r\n\r\n    this.startX = event.x;\r\n    this.startY = event.y;\r\n  }\r\n\r\n  /**\r\n   * startResize\r\n   */\r\n  public startResize(event: MouseEvent, type: string) {\r\n    this.resizing = true;\r\n    this.type = type;\r\n\r\n    this.startX = event.x;\r\n    this.startY = event.y;\r\n\r\n    this.minimized = false;\r\n    this.maximized = false;\r\n  }\r\n\r\n  /**\r\n   * onMouseMove\r\n   */\r\n  public onMouseMove(event: MouseEvent) {\r\n    if (this.dragging) {\r\n      this.top += event.y - this.startY;\r\n      this.bottom -= event.y - this.startY;\r\n      this.startY = event.y;\r\n\r\n      this.left += event.x - this.startX;\r\n      this.right -= event.x - this.startX;\r\n      this.startX = event.x;\r\n    } else if (this.resizing) {\r\n      if (this.type.includes('top')) {\r\n        this.top += event.y - this.startY;\r\n      }\r\n      if (this.type.includes('right')) {\r\n        this.right -= event.x - this.startX;\r\n      }\r\n      if (this.type.includes('bottom')) {\r\n        this.bottom -= event.y - this.startY;\r\n      }\r\n      if (this.type.includes('left')) {\r\n        this.left += event.x - this.startX;\r\n      }\r\n\r\n      this.startY = event.y;\r\n      this.startX = event.x;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * stopEvents\r\n   */\r\n  public stopEvents(event: MouseEvent) {\r\n    this.dragging = false;\r\n    this.resizing = false;\r\n  }\r\n\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n  selector: 'wc-window',\r\n  templateUrl: 'window.component.html',\r\n  styleUrls: ['window.component.scss'],\r\n  host: {\r\n    'class': 'wc-window',\r\n    'role': 'window',\r\n    '[class.wc-window-opened]': 'opened',\r\n    '[class.wc-window-minimized]': 'minimized',\r\n    '[style.top.px]' : 'top',\r\n    '[style.right.px]' : 'right',\r\n    '[style.bottom.px]' : 'bottom',\r\n    '[style.left.px]' : 'left',\r\n    '(document:mousemove)': 'onMouseMove($event)',\r\n    '(document:mouseup)': 'stopEvents($event)'\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'opened': [{ type: Input },],\n'top': [{ type: Input },],\n'right': [{ type: Input },],\n'bottom': [{ type: Input },],\n'left': [{ type: Input },],\n};\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}